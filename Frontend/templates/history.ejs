<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Pong Game</title>
      <link rel="stylesheet" href="/Frontend/css/style.css">
      <link rel="stylesheet" href="/Frontend/css/btn.css">
</head>
<body>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      navigateTo("history"); // Appelle la fonction au chargement de la page
	  set_up_friend_list();
    });
  </script>
  <div id="user" style="display: none;"></div>
  
  <div id="content">
	  <h1>Historique des matchs</h1>
	  <% if (history.length === 0) { %>
		<p>Aucun match trouv√©.</p>
		<% } else { %>
			<table border="1">
				<tr>
					<th>Game</th>
					<th>Joueur 1</th>
					<th>Joueur 2</th>
					<th>Score</th>
					<th>Gagnant</th>
					<th>Date</th>
				</tr>
				
				<% history.forEach(match => { %>
					<tr>
						<td><%= match.gametype %></td>
						<td><%= match.player1_username %></td>
						<td><%= match.player2_username %></td>
						<td><%= match.player1_score %> - <%= match.player2_score %></td>
						<td><%= match.winner_username %></td>
						<td><%= match.created_at %></td>
					</tr>
					<% }) %>
				</table>
				<% } %>
				<h1>Tournaments</h1>
				<% if (tournament.length === 0) { %>
					<p>Aucun tournoi jou√©.</p>
					<% } else { %>
						<h2>Classement des tournois</h2>
						<% tournament.forEach(tournoi => { %>
							<table border="1">
								<tr>
									<th>Position</th>
									<th>Joueur</th>
									<th>Score</th>
									<th>Date</th>
								</tr>
								<tr>
									<td>ü•á 1</td>
									<td><%= tournoi.player1_username %></td>
									<td><%= tournoi.player1_score %></td>
									<td><%= tournoi.created_at %></td>
								</tr>
								<tr>
									<td>ü•à 2</td>
									<td><%= tournoi.player2_username %></td>
									<td><%= tournoi.player2_score %></td>
									<td><%= tournoi.created_at %></td>
								</tr>
								<tr>
									<td>ü•â 3</td>
									<td><%= tournoi.player3_username %></td>
									<td><%= tournoi.player3_score %></td>
									<td><%= tournoi.created_at %></td>
								</tr>
								<tr>
					<td>üèÖ 4</td>
					<td><%= tournoi.player4_username %></td>
					<td><%= tournoi.player4_score %></td>
					<td><%= tournoi.created_at %></td>
				</tr>
			</table>
			<% }) %>
			<% } %>
			<%- include('/usr/src/app/Frontend/templates/scripts.ejs') %>
			<canvas id="friends_list" width="300" height="500"></canvas>
			<button class="btn" onclick="navigateTo('index')">HOME</button>
		</div>
	</body>
	</html>